
= Monocular Visual Odometry Based on Depth and Optical Flow Using Deep Learning

// Визуальная одометрия (ВО) - одна из важнейших методик в области мобильных роботов ; точная VO система представляет из большого значения для мобильного робота одновременной локализации и отображения. Что касается традиционных монокулярных систем голосового управления, они работают , предполагая, что шкала монокуляра равна 1 (шкала 1), или полагаясь на наземную истину (GT) для оценки масштаба. В результате традиционные монокулярные системы озвучивания оценивают состояние позы с большим отклонением или не могут работать с последовательностью изображений без GT. 

Классические монокулярные системы локализации и навигации нестабильно работают в экстремальных ситуациях, такие как  монотонная сцена без заметной информации текстуры или последовательность данных без явного перемещения камеры.

В работе () показана система визуальной одометрии на основе глубокого обучения нейронные сетей.

Мы рассматриваем монокулярную систему VO названную DL_Hybrid, которая использует основные преимущества методов глубокого обучения, используемых при обработке изображений, так и классические геометрические методы локализации и навигации. Таким образом, система DL_Hybrid производит оценку локализации на основе на гибридного метода оценки позиции. 
Система DL_Hybrid VO может определять позу с шестью степенями свободы, работать как покадрово так и восстанавливать траекторию камеры по серии кадров, а также может извлекать точные ключевые точки из каждого кадра даже в экстремальных условиях сцены. 
Система имеет хорошую производительность даже в экстремальных условия движения, таких как наличие только вращения камеры или отстутствие перемещения вообще, также алгоритм DL_Hybrid может хорошо работать в условиях крупномасштабного перемещения камеры. 
Поскольку в монокулярных системах SLAM отдельно стаит задача определения масштаба изображения, метод оценки позы в DL_Hybrid реализован на основе совместного использования 2d-2d и 3d-2d методов локализации, чтобы позволяет получить систему VO для оценки поступательной и вращательной динамики с большой точностью и надежностью. 
Результаты экспериментов показывают, что система DL_Hybrid VO имеет более высокую производительность по сравнению с традиционными сиситемами SLAM и системами глубокого обучения построенными на основе VO систем.


// Как для обучения на основе VO системы, он будет реализован путем обучения глубоко нейронные сетей в поднадзорных или самостоятельно контролируется таким образом , чтобы впритык оценить в позе состоянии; Однако, точность оценки позы полностью зависит от способности сетей. Хотя способность сети может быть улучшена за счет увеличения количества обучающих данных наборов и оптимизации сетевой структуры, это неизбежно проблемы , такие как сталкиваются с недостаточной генерализации способности и недостаточной точности по вращательной оценки позы. 

Deep нейронной сеть (DNN), густая глубина карта, плотная карта оптического потока, монокуляр визуальная одометрии (VO) система, поза оценка, траектория восстановления.

 
== Введение
 S IMULTANEOUS локализация и отображение (SLAM) является один из самых важных методов для автономного робота и автоматические беспилотные автомобили, он позволяет роботу строить карту окружающей среды и в то же время использовать карта для вычисления его местоположения [1]. По разным типам датчиков система SLAM относится к лазерным и подходы, основанные на видении [2]. По сравнению с лазерным Система SLAM, система SLAM на основе зрения имеет преимущество недорогой и дополнительной информации может быть получается через камеру [3]. Visual SLAM (VSLAM) использует монокулярные, стерео или RGBD камеры для навигации и отображение, и получение богатой текстурной информации [4]. Визуальная одометрия (ВО) - важная часть системы SLAM, и позволяет роботу локализовать где-нибудь и оцените состояние движения с шестью степенями свободы, содержащее 3-D перемещение позы и вращение позы в трехмерном пространстве [5]. Классический Метод ВО состоит из нескольких модулей, таких как функция обнаружение, сопоставление функций и локальная оптимизация. это необходимо настраивать для каждого модуля по последнему слову техники алгоритмы обеспечения работоспособности [6]. В настоящее время глубокий архитектуры обучения (DL), или называемые глубокими нейронными сетями (DNN), успешно применяются во многих областях, включая компьютерное зрение [7] и обнаружение объектов [8], и дали превосходные результаты, сопоставимые с традиционными метод обработки изображений. Применение методов DL к VSLAM - это знаковая разработка, в которой полностью используются преимущества DL для обработки последовательности изображений [9]. Традиционная система ВО использует геометрическую теорию в качестве теоретическая основа для оценки относительных изменений позы между смежные кадры изображения, поэтому этот вид ВО также называется ВО на основе геометрии [6]. Предпосылка получения точных и надежные результаты оценки позы VO на основе геометрии два основных фактора [10], первый заключается в том, что окружающие сцены мобильный робот статичен с небольшим количеством движущихся объектов, другой - что сцена имеет достаточную фактуру, а не однообразную сцену без особенностей. Потому что у DL есть мощная способность обработки изображений, можно применить теорию DL к VO. В последнее время в некоторых приложениях, связанных с локализацией, DL достиг многообещающих результатов, обученных на основе данных подход [9]. И некоторые исследователи прилагают усилия, чтобы внедрить сквозную систему голосового управления с использованием контролируемого или неконтролируемое обучение на основе данных, не полагаясь на какие-либо модуль по геометрическим методам ВО [11] - [13]. Эти
методы, основанные на обучении, оценивают позы с абсолютной шестью степенями свободы или



image::4-12-2021-14-47-21-PM.png[] 
Рис. 1. Изображения в левом столбце сверху вниз: карта оптического потока положительного порядка, карта оптического потока обратного порядка, точки мгновенного оптического потока.
на исходном изображении и монокулярной карте глубины; изображения в правом столбце сверху вниз: ключевые точки, соответствующие карте пары изображений, восстановленные
карта траектории, на которой синяя линия обозначает расчетную траекторию, а красная линия обозначает GT.


матрица относительного преобразования, обучая CNN учиться на последовательность кадров изображения. Итак, эти методы, основанные на обучении не предпринимайте особых мер для решения проблемы масштаба проблема смещения, точность оценки масштаба зависит от возможность сети. Хотя возможности сети могут быть улучшено за счет увеличения количества образцов изображений и опти- Из-за структуры сети неизбежно возникнут проблемы. такие симптомы, как недостаточная обобщающая способность нейронной сеть и недостаточная точность ротационной информации. Существенная проблема заключается в том, что это непрерывное обучение, основанное на ВО не в полной мере используют надежную геометрическую теорию для вычисления матрицы вращения и вектора поступательного движения.

В этой статье монокулярная система озвучивания под названием DL_Hybrid предлагается, который в полной мере использует DL, используемый в изображении методы обработки и геометрической локализации, используемые в позе предварительный расчет. Предлагаемая система DL_Hybrid VO способна точно оценить поступательную и вращательную информацию для каждого кадра изображения, и траектория камеры восстанавливается точно покадрово, как показано на рис.1. По сравнению с другими системами голосового управления, предлагаемые Система DL_Hybrid VO имеет лучшую надежность и точность даже в экстремальных движущихся условиях, таких как камера действие только вращения или статическое действие. Кроме того, предлагаемые Система DL_Hybrid VO имеет очевидные преимущества на камеру крупномасштабное смещение и оценка в монокулярном масштабе. Между последовательными изображениями есть несколько одинаковых сцен из-за масштабного смещения камеры. В результате там несколько пар ключевых точек и пары ключевых точек легко несовместимы. Традиционная система голосового управления на основе прямой метод полностью зависит от поиска градиента, а изображение - сильная невыпуклая функция, поэтому прямая Этот метод работает только в случае медленного движения камеры. Поэтому традиционная система голосового управления плохо работает под условие масштабного перемещения камеры. DL сети имеют очевидные преимущества в области обработки изображений; на самом деле сверточные нейронные сети созданы для изображения обработка. Что касается движения камеры с крупномасштабным смещения, сеть DL способна точно извлекать ключевые точки и правильно их сопоставить, что позволяет DL_Hyrbid VO система для точной оценки статуса позы и восстановить траекторию камеры, когда камера движется быстрый. Путем экспериментов в этой статье подтверждается, что Предлагаемая система DL_Hybrid VO может хорошо работать на изображении последовательность с интервалом выборки из трех изображений, а традиционная система озвучивания может работать только с последовательностью изображений с максимальный интервал выборки одного изображения. Что касается монокулярной системы голосового управления, очень важно, чтобы оценивается ли трансляционный масштаб достаточно точно [14]. Если оценка масштаба неточная, это неизбежно приводит к тому, что оценка вектора поступательного движения приводит к прямому отказу и оценка вращательной матрицы опосредованно потерпит неудачу [15]. Глобальный алгоритм настройки пучка (BA) [16] также применяется к уменьшить погрешность дрейфа при оценке позы, что дорого обходится вычислительная мощность оборудования. Традиционный монокуляр Система голосового управления работает, предполагая, что монокулярная шкала равно 1, или полагаясь на наземную истину (GT), чтобы оценить масштаб. В этих случаях традиционная система озвучивания имеет неточную позу. оценка, или не может работать с последовательностью изображений без GT. Предлагаемая система DL_Hybrid VO использует сеть DL для извлекать карту глубины каждого кадра изображения; однако глубина карта не может гарантировать точность значения глубины каждого
пиксель, поэтому его нельзя использовать напрямую. Следовательно, DL_Hybrid

<<<

Система VO использует карту глубины в качестве эталона и принимает алгоритм RANSAC для расчета шкалы монокуляра совмещение с методом геометрической триангуляции. В этом Таким образом, монокулярная шкала точно рассчитана и Система DL_Hybrid VO может работать с последовательностью изображений без GT. В результате экспериментов в этой статье траектории камеры восстановленные системой DL_Hybrid VO близки к GT, то есть монокулярная шкала оценивается точно. II. R приподнятое Вт ОРК В основном применялись два типа алгоритмов. в монокулярную систему озвучивания: методы на основе геометрии и Методы на основе DL. В этом разделе мы обсудим различия между ними с точки зрения техники и рамок. А. Визуальная одометрия на основе геометрии Традиционный VO на основе геометрии обеспечивает ультрасовременный производительность с точки зрения точности и надежности [2]. Теоретически ВО на основе геометрических ограничений может быть разделен на два метода: метод разреженных объектов и метод прямой метод. Первый полагается на обнаружение и отслеживание скудный набор характерных особенностей изображения, последний напрямую применяется значения интенсивности пикселей изображения для оценки движения. Методы, основанные на элементах, используют многоракурсную геометрию за счет извлечение и сопоставление основных характерных точек для определения движение из последовательности изображений [5]. В компьютере зрения, часто используемые методы обнаружения признаков: FAST [17], SURF [18], ORB [19] и BRIEF [20]. В Функция отслеживания Канаде – Лукаса – Томаси (KLT) является классической метод отслеживания точек для отслеживания элементов в последовательном кадры. Однако, поскольку он касается только следующих друг за другом кадры без интервалов, неизбежно накапливаются сносы. Есть несколько способов решить эту проблему: поддержание карты характеристик вместе с оценкой позы для исправления дрейфа, например, VSLAM и конструкции от движения (SfM) [10]. Чтобы распараллелить оценку движения и отображение задач, подход PTAM [21] используется для включения преимущество работы в реальном времени. Алгоритмы, примененные к этот метод включает LIBVISO2 [22] и ORB-SLAM [23]. Прямые методы требуют меньшей вычислительной мощности, чем методы, основанные на функциях, поскольку они напрямую минимизируют ошибки в сенсорном пространстве без выделения, сопоставления и трекинг [24]. В результате прямые методы могут использовать все пиксели в последовательных кадрах изображения для оценки позы под предположение планарности фотометрической согласованности. Для типовой алгоритм SLAM с ВО прямых методов, DTAM [25] использует преимущества плотной карты глубины для каждого ключевой кадр, чтобы минимизировать глобальную энергетическую функцию путем выравнивания все изображение. Другие подходы, например предложенные в [26] и [27] используйте нелинейную оценку методом наименьших квадратов, чтобы позы ориентироваться. Чтобы смягчить большие вычислительные требования прямых методов, полупрямые подходы в [28] и [29] были предложил обеспечить превосходные характеристики с монокуляром VO. Эти подходы сочетают в себе параллельное отслеживание и отображение. функциональных методов с точностью и скоростью прямые методы. Кроме того, алгоритм LSD-SLAM [30] с быстрым и прямым монокулярным голосом может работать без текстур окружающей среды в принципе, и, таким образом, собирает больше исследований интерес. Между тем, также предлагаются некоторые подходы к объединению данных. в поле ВО с использованием монокулярной камеры и других средств измерения оборудование для повышения точности локализации или реального оценка масштаба, например инерциальные единицы измерения (IMU), или направление и дальность интенсивности лазера (LiDAR). В [46], подход мультисенсорного слияния между IMU и землей оптический поток используется для оценки положения мобильного робота, и добавлен этап обнаружения и исключения неисправностей, чтобы исключить ошибочные измерения для процедуры сварки сделав его отказоустойчивым и обеспечив высокую локализацию представление. В [47] метод оценки монокулярной шкалы предлагается с использованием 2-хмерных времяпролетных камер и 3-х мерных Лидары, неотъемлемая неоднозначность масштабов и дрейф монокуляра. восприятие решаются путем оптимизации обоих изображений камеры как а также карту ориентиров с предоставленной информацией о глубине датчиком дальности. Традиционная система ВО использует геометрическую теорию. оценить состояние позы камеры; однако есть также некоторый недостаток существующий. Система VO на основе геометрии не может хорошо работать в некоторых условиях, например, на изображении кадр однообразен без явной текстурной информации или окружающая среда с резким изменением интенсивности света. Тем временем, традиционная система OV также плохо работает на камере движение с большим смещением, оценка позы может быть неудачной, когда мобильная машина движется с большой скоростью. Оценка реального масштаба- ция также очень важна для монокулярной системы голосового управления; в традиционная система ВО не может оценить реальный масштаб без GT. Это означает, что традиционная система голосового управления не может работать на Последовательность изображений без GT. В этой статье предлагается DL_Hybrid VO система на основе DL, сочетающая геометрические теория обеспечивает лучшую производительность. Б. Визуальная одометрия на основе глубокого обучения В последнее время были разработаны методы ВО на основе DL нейронные сети без использования явно геометрической теории. Методы ВО на основе DL дали многообещающие результаты. обучение с использованием контролируемого или самостоятельного подхода, основанного на данных в некоторых приложениях, связанных с локализацией. Оценка матрицы преобразования эффективно исследуется CNN в [31], где DL-сеть обучается на больших данных набор искаженных естественных изображений путем прямого сопоставления пар изображения в движение трансформируются. Сеть под названием PoseNet [32] исследует локализацию камеры, обучая CNN изучать отображение изображений для оценки абсолютных поз с шестью степенями свободы. это технико-экономический подход, используемый глубоким CNN для прямой регрессии и оцените позу одного изображения RGB. Особенности CNN использовались для распознавания местоположения на основе внешнего вида в [33], где особенности имеют то преимущество, что они достаточно низкий уровень, чтобы обеспечить представление большого количества концепции, но достаточно абстрактны, чтобы позволить этим концепциям быть распознается с помощью простых линейных классификаторов. FlowNet [34] производит использование оптического потока между изображениями. Предлагаемый метод в [32] исследуется перемещение камеры с помощью одного изображение путем точной настройки изображений определенной сцены с помощью CNN, и рекомендует, чтобы изображения, полученные с помощью SfM, были



image::4-12-2021-14-48-13-PM.png[] 

Рис. 2. Параметр k обозначает количество изображений в последовательности. Красные блоки представляют модули DL. Синие блоки представляют функцию
локализация и оценка монокулярного масштаба. Желтые ромбические блоки представляют собой решения по управлению рабочим процессом системы DL_Hybrid VO.
помечены в крупномасштабных сценариях. 
 
 
В [35] ВО на основе DL называется предложено обнаруживать синхронность между последовательностями изображений и Особенности. В этом исследовании представлена ​​возможная схема для DL на основе стерео VO для предсказания дискретных изменений направления и скорость с помощью функции softmax. Предлагаемый метод в [36], GeoNet, представляет собой среду обучения без учителя. для оценки глубины монокуляра, оптического потока и движения эго из видео. Он имеет адаптивную потерю геометрической согласованности повысить устойчивость к выбросам, что устраняет окклюзии и текстуры неоднозначности эффективно. Предлагаемый метод в [37], VLocNet, представляет собой архитектуру CNN для глобальной сети с шестью степенями свободы. оценка регрессии позы и одометрии из последовательных монокулярные изображения. Разработана функция потерь, использующая вспомогательное обучение для использования информации об относительной позе для составления напрягите пространство поиска и получите согласованные оценки позы. В [38] предлагается способ преодоления проблемы обобщающая способность нейронной сети; плотный оптический поток для оценки движения используется в CNN для реализации надежное голосовое сопровождение на основе обучения. Предлагается метод DF-VO. в [39]; он исследует оптический поток и глубину кадра извлечены по модели DL, в сочетании с традиционным озвучиванием для позы локализация. В [41] FlowNet2.0 предлагается для разработки FlowNet [34]; он надежен на большом количестве сцен и Приложения. В [40] нейронная сеть с облегченной моделью предлагается извлечь карту оптического потока из последовательных последовательности изображений по сравнению с FlowNet2; это 30 раз меньше в размерах модели и в 1,36 раза быстрее в работе скорость, чем у FlowNet2. Сквозное голосование на основе DL - это проблема регрессии, а не проблема классификации. Самая большая трудность для обучения на основе Система VO - это проблема обобщающей способности и дрейфа масштаба. нейронные сети. Обученная модель DNN работает как выход постоянное озвучивание для данной сцены; однако его следует переучивать адаптироваться к новой среде. И монокулярная шкала оценка зависит от способности DNN, нет специальная мера, принятая системой голосового управления на основе обучения для решения проблема смещения масштаба. Существенная проблема для обучения на основе Система ВО заключается в том, что в ней не используется геометрическая теория. сквозная система голосового управления. В этой статье система DL_Hybrid VO предлагается здесь для повышения производительности.

== Методология

В этом разделе подробно описывается монокулярная система SLAM, предлагаемая в этом статья подробно. 

Сначала остановимся на обзоре DL_Hybrid VO система. 
Затем описывается нейронная сеть DL с именем DenseFlowNetwork 
предлагается для оценки плотной оптической карта потока между парами кадров изображения и другой нейронной сеть с именем DenseDepthNetwork предлагается для извлечения плотная карта глубины для каждого кадра. 

// Наконец, гибрид 2d – 2d и 3D – 2D метод оценки позы в сочетании с оптическим потоком Обсуждается карта и карта глубины, а также реальный масштаб монокуляра алгоритм оценки также выполняется покадрово.


=== Обзор из DL_Hybrid VO системы 
Предлагаемая в этой статье система DL_Hybrid VO поглощает
преимущества одновременного использования DL и традиционных методов ВО.
езависимо. Он не только полностью использует преимущества нейронной системы DL.
сеть в области обработки изображений, но также объединяет
позировать метод оценки статуса от традиционного метода ВО.
В результате предлагаемая в этой статье система DL_Hybrid VO
имеет лучшую локализацию и точность оценки позы. Как показано
на рис. 2 общая архитектура системы DL_Hybrid VO представлена
данный.
Как показано на рис.2, используются две нейронные сети DL:
один называется DenseFlowNetwork и используется для оценки
плотная карта оптического потока между последовательными изображениями
кадры, а другой называется DenseDepthNetwork, который
используется для получения плотной карты глубины каждого монокуляра.
изображение. На рис. 2 два красных блока представляют собой DL.
сетевые модули и три синих блока представляют позу
методы оценки, все они будут подробно описаны
в следующих разделах. 

=== Процесс DL_Hybrid 
Систему голосового управления можно разделить на шесть этапов, как показано ниже.

. На начальной итерации установите i = 1, каждые два соседних
изображения в последовательности изображений составляют пару изображений. За
например, i- е и ( i + 1)-е изображения в последовательности изображений
составляют i- ю пару изображений.
. Используйте DenseFlowNetwork для оценки плотности
карта оптического потока между двумя изображениями на i- м изображении
пара и извлеките ключевые точки из плотной карты оптического потока

// ; 5

Используйте DenseDepthNetwork для оценки плотной карты глубины
я го изображения в я - й паре изображений.
. Если i> 1, перейдите к шагу 4. В противном случае, если i = 1, сохраните
ключевые точки и плотная карта глубины, полученные на шаге 2, затем
матрица преобразования T 1 = I , где I - единичная матрица,
затем сохраните T 1 в список и нарисуйте точку T 1 ; в настоящее время i <k ,
где k - общее количество изображений, тогда i = i + 1, и
вернитесь к шагу 2.
. Ключевые моменты, извлеченные из плотного оптического потока
карта, оцененная DenseFlowNetwork, соответствует
с ключевыми точками, извлеченными из предыдущего оптического потока
map, в результате получается пара соответствия 2d – 2d ключевых точек
из двух наборов двумерных ключевых точек. Тогда эпиполярная геометрия
метод используется для оценки матрицы вращения R и трансла-
вектор t из пар соответствий 2d – 2d ключевых точек. Если
R и t действительны, переходите к шагу 5; если они недействительны, перейдите к
шаг 6.
. Оценка шкалы монокуляра. Используйте ключевой момент
совпадающая пара для вычисления информации о глубине с помощью триангу-
и комбинируя полученную плотную карту глубины
в данной итерации для расчета абсолютной шкалы монокуляра
алгоритмом RANSAC, а затем преобразовать позу из
нормализованная система координат к мировой системе координат.
Оцените, действительна ли шкала, если она действительна,
матрица преобразования T i = (R, st) получена на данный момент
итерация, где s - масштаб, затем сохраните T i в список и нарисуйте
Т я точка. Если i <k , то i = i + 1, и перейти к шагу 2; если не
i <k , остановить итерацию и вернуться; если масштаб неверный, то иди
к шагу 6.
. Используйте карту плотной глубины, полученную
DenseDepthNetwork на предыдущей итерации для преобразования
ключевые моменты, полученные на предыдущей итерации из
пиксельная система координат в мировую систему координат,
в результате точки пространства, соответствующие ключевым точкам
полученные на предыдущей итерации. Космос
точки, и ключевые точки, полученные в текущей итерации, являются
сформированные совпадающие пары (3d – 2d), точка перспективы (PnP)
используется для расчета пар совпадений 3d – 2d, чтобы получить
матрица вращения R 'и вектор переноса t ', преобразование
матрица T i = (R ' , t ' ) текущей итерации получается, затем сохраняем
T я в список и рисовать T я точка. Если i <k , то i = i + 1 и
перейти к шагу 2; если не i <k , остановить итерацию и вернуться.

Как показано на рис. 2, в этой статье гибридная локализация
используется для оценки позы камеры, которая состоит из
два метода оценки позы: метод эпиполярной геометрии и
Методом PnP они используются для оценки соответственно камеры
представить информацию из пар соответствий 2d – 2d ключевых точек и
3d – 2d пары соответствия ключевых точек. В чем можно быть уверенным, так это в том, что
ключевые точки, извлеченные из плотной карты оптического потока
точны; тогда пары совпадений 2d – 2d ключевых точек будут
точным, так что матрица вращения, рассчитанная эпиполярным
метод геометрии точен, а затем вектор переноса
корректируется функцией оценки монокулярной шкалы. В этом
Кстати, позу можно точно получить с точки зрения транс-
матрица формирования. По сути, в этом процессе используются важные
матричная декомпозиция (по теории эпиполярной геометрии) и масштаб
оценка, чтобы получить точную информацию о позе, поэтому мы называем
этот процесс для краткости EMs. Однако в некоторых экстремальных переездах

состояние транспортного средства, такое как движение только вращение или статика
действия, отношение ограничений эпиполярной геометрии не может
быть удовлетворенным, поэтому EM не могут работать. Чтобы предотвратить
Система VO от сбоев и делает систему VO более надежной
и повысить точность восстановления траектории, метод PnP
используется как резервный метод в экстремальных условиях движения. PnP
метод может оценить позу на основе соответствия ключевых точек 3D – 2D.
пар, как объясняется в шаге 6 выше, поскольку плотная глубина
карта не может быть гарантирована точность для каждого пикселя, 3d – 2d
пары ключевых точек не гарантируют точность, в результате
вращательная и поступательная информация, оцениваемая
Метод PnP из пар совпадения ключевых точек 3d – 2 не является
гарантированная точность. Назначение того, что PnP существует в DL_Hybrid
Система ВО заключается в том, что она обеспечивает надежность всей системы ВО.
и избегает дрейфа шкалы. Надеемся, что все кадры изображения
оценочная поза с помощью EM, за исключением изображений, которые были сделаны
в условиях экстремального действия камеры, так что камера
траектория восстанавливается точно. Как показано на рис. 2, два
желтые ромбические блоки представляют собой суждения по контролю над
рабочий процесс системы DL_Hybrid VO, использовать или нет
Оценка PnP. Основание для двух судебных решений подробно изложено как
следует.


1) Если матрица вращения R или вектор переноса t недопустимы.
Это означает, что камера находится в режиме только вращения или
статическое действие. В этом случае метод эпиполярной геометрии
не может работать, и вектор трансляции t = 0, то
Метод PnP работает.
2) Если оценочная шкала монокуляра недействительна. Для
плотная карта глубины, оцененная сетью DL, так как
значение глубины каждого пикселя должно быть положительным, если сумма
пикселей с положительной глубиной менее 80, расчетное
масштаб может быть неточным. Это дело расценено как несостоявшееся,
метод PnP работает.

Как система DL_Hybrid VO работает с последовательностью изображений
покадровый, относительная трансформация позы
матрица получается одна за другой, а абсолютная поза
Матрица трансформации может быть вычислена с помощью относительного преобразования позы.
Матрица формирования, которая представляет информацию о позе с шестью степенями свободы.
связь. После того, как все изображение будет полностью оценено,
восстанавливается вся траектория камеры.


=== Карта плотного оптического потока 

В классических методах VO / SLAM прямой метод оценивает
поза камеры, отслеживая оптический поток покадрово. Прямой
не требует затрат вычислительных мощностей на
извлечение ключевых точек и вычисление дескрипторов, и это
может работать в сценах без явной текстурной информации.
Однако прямой метод полностью полагается на оптимизацию
целевая функция за счет уменьшения градиента для расчета камеры
поза. Целевая функция требует серого значения пикселей,
а изображение - невыпуклая функция. Это делает
алгоритм оптимизации легко сводится к минимуму, в результате прямой
Метод работает только тогда, когда камера движется медленно.

Поскольку технология DL имеет большие преимущества в области обработки изображений, были предложены некоторые современные методы на основе DL для оценки оптического потока [34], [40], [41], [44], [45]. В этой статье мы используем нейронную сеть DL [40].


// 6

image::4-12-2021-14-49-43-PM.png[] 
Рис. 3. Архитектура из DenseFlowNetwork. (a) DenseFlowNetwork состоит из SPNet и Fine OFNet.

image::4-12-2021-14-49-50-PM.png[]
Архитектура из DenseFlowNetwork. Детальная структура одного блока из каскада OFNet.



// Рис. 3. Архитектура DenseFlowNetwork. (a) DenseFlowNetwork состоит из SPNet и Fine OFNet. (b) Подробная структура каскадирования OFNet на единицу.


для оценки плотного оптического потока между последовательными изображениями
пары кадров, точная информация об оптическом потоке имеет большое значение
значение для системы DL_Hybrid VO. Архитектура DNN
для оценки плотной карты оптического потока показана на рис.
с именем DenseFlowNetwork. Он состоит из двух подсетей:
сеть извлечения пространственных пирамид (SPNet) и точная
сеть оценки оптических потоков (OFNet). SPNet может
преобразовывать пары изображений в многомасштабные объекты большого размера
пирамиды с положительным и обратным порядком соответственно. OFNet
выводит пирамиду признаков слой за слоем, а затем каскадирует
вывод потока для получения точных оптических карт потока.
SPNet, как показано на рис. 3 (а), имеет сиамскую сетевую архитектуру.
лекция с разделением весов. Последовательные пары изображений, которые
вход в подсети близнецов имеет положительный и обратный порядок,
соответственно, как { I t, I t +1 } и { I t +1 , I t }. SPNet трансформирует
положительный порядок пары изображений { I t , I t +1 } к положительному пирамидальному
карта функций F (I 1) и преобразует обратный порядок изображения
пара { I t +1 , I t } для обратной пирамидальной карты признаков F (I 2). В этом
статья, всего шесть слоев для каждого многомасштабного высокого
карта пространственных объектов пирамиды. Карта пирамидальных объектов
указывает информацию о пространственных объектах с самого высокого
слой разрешения (первый слой) F 1 (I) до самого низкого разрешения
слой (шестой слой) F 6 (I) . Грубая карта потока приводится в
карта пирамидальных объектов, оцененная SPNet. После каждого CNN
блока в SPNet есть функция активации Leaky ReLU с
отрицательный наклон 0,01, а пространственное разрешение каждой пирамиды
Уровень снижается за счет увеличения СТРАЙД сек сверточных


ТАБЛИЦА I
Конфигурация CNN в  SPN-ET
image::4-12-2021-14-52-49-PM.png[] 


работа нейронной сети. Конфигурация CNN, используемых в
SPNet приведен в таблице I.
Карта пирамидальных признаков впоследствии передается в
OFNet для извлечения крупно-точной карты оптического потока. OFNet
это искусственная нейронная сеть с каскадным фреймворком









// 7



image::4-12-2021-14-53-47-PM.png[] 
Рис. 4. Архитектура DenseDepthNetwork.


который
работает
в
пространственная пирамида
особенность
карты
F (I 1) и F (I 2) послойно соответственно. Это содержит
по три блока в каждом модуле для работы пирамидального слоя:
сопоставление, субпиксель и регуляризация, как показано на рис. 3 (b).
Блок сопоставления вычисляет корреляцию высокоуровневого объекта
векторы между пирамидальными картами признаков F (I 1) и F (I 2)
операция по переписке точек. Это пиксель в пиксель
мера корреляции, аналогичная сопоставлению дескрипторов
метод в традиционной системе SLAM. Используется субпиксельный блок
для уточнения поля потока на уровне пикселей до субпиксельной точности.
Он может фильтровать неточные точки потока, которые усиливаются
путем повышения частоты дискретизации и перехода от низкой пирамиды к высокой
уровень. Блок регуляризации направлен на сохранение достоверности данных за счет
управляемые функциями локальные CNN для регуляризации поля потока, чтобы предотвратить
размытые границы потока и нежелательные артефакты от существующих.
Подробная конфигурация и процесс этих трех блоков
показано на рис. 3 (б).
Единица F-warp в OFNet - это сокращение от Feature warping.
F-деформация используется для уменьшения расстояния между пространственными объектами.
каждый уровень пирамиды и изображения; таким образом, короткий
используется диапазон поиска, а не длинный диапазон поиска
установить стоимостной объем. С функцией деформации, пирамидальной формы
функции, входящие в логический вывод потока, выглядят ближе
друг другу. Это облегчает оценку расхода в последующем
уровни пирамиды путем вычисления остаточных потоков. В связи с чем-
слой деформации, DenseFlowNetwork дает надежную
карты потоков больших вытеснений для реальных данных. Течение
поле на рис. 3 (b) - это карта оптического потока, которая является выходным
предыдущего модуля, как и для шестого пирамидального уровня, поток
поле равно 0. На каждом слое пирамидальной карты объектов поток
Поле извлекается из высокоуровневого признака пары изображений.
Что касается двух изображений I t и I t +1 в паре изображений, если есть
есть несколько одинаковых сцен между I t и I t +1 , то это большой
задача сделать вывод о поле оптического потока. Хорошо известно, что
автомобильный робот - это быстро движущееся транспортное средство, поэтому это неизбежно
для захвата нескольких одинаковых сцен между последовательными изображениями
кадры. Сеть DL имеет лучшую производительность для работы
движение с большим смещением, чем прямой метод или функция
точечный метод традиционной SLAM-системы. С изображением
обработка деформации признаков и CNN, это хорошо сделано
для локализации ключевой точки оптического потока большого смещения и
уменьшить расстояние между объектами F (I 1) и F (I 2).
Таким образом, DenseFlowNetwork становится более мощной и
эффективен для обработки оптического потока.
DenseFlowNetwork может извлекать многомасштабные
размерная пирамида пространственных объектов и дает точную плотную
карта оптического потока. Он фильтрует четкие границы потока и
оценивает движения большого смещения в потоке от крупного до мелкого
карта в каждой пирамиде последовательных пар изображений. Оно имеет
лучшая производительность при извлечении ключевых точек, чем у традиционных
методы при большом перемещении между последовательными
кадры. Таким образом, это позволяет системе DL_Hybrid VO работать
скоростное движение автомобиля и восстановление точной траектории.


=== Плотная карта глубины

В последнее время большие успехи в оценке
глубина изображения. Некая современная нейронная сеть DL
архитектуры были предложены исследователями с супер-
контролируемый или неконтролируемый подход. В этой статье стандартный
полностью сверточная сеть используется для оценки монокулярных
depth [42], который принимает структуру кодера-декодера с
скип-соединения. Архитектура DNN для оценки плотной
карта глубины каждого монокулярного изображения представлена ​​на рис. 4,
с именем DenseDepthNetwork. Он использует типичную U-Net [43]
фреймворк кодер-декодер, кодировщик которого использует предварительно обученные
Модель ResNet в этой статье, другие модели также могут быть
обдуманный.
Режим обучения с самоконтролем используется для обучения
DenseDepthNetwork. В отличие от поезда под присмотром -
режим, который использует глубины GT для конвергенции нейронных сетей DL.
сетей, подход к обучению с самоконтролем зависит от
фотометрическая согласованность в мультисценах для уменьшения
функция потерь. Что касается монокулярной системы голосового управления, проблема
наличие неоднозначности масштаба и несогласованности масштаба
проблемы с использованием сети, основанной на обучении. Цель глубины
согласованность масштаба заключается в том, что глубина, предсказанная в кадре- i, имеет
согласованность с соответствующими прогнозами в j-м кадре


// 8


== 2d – 2d локализация и оценка позы 

После того, как оптическая карта потока и карта глубины будет получено DL нейронных сетей, два набора из пар точек ключа 2-D уже были получили. Затем цель состоит в том, чтобы оценить в камере движение позы



image::4-12-2021-14-54-25-PM.png[] 
Рис. 5. Ограничения эпиполярной геометрии .


Поскольку обучение нейронной сети на монокулярном наборе данных не дает согласованность масштаба, для тренировки сети используются стереопоследовательности, а во время тестирования используются монокулярные последовательности. 

Таким образом, ограничение на фиксированную геометрию расположения пары камер применяется в модели, пр этом гарантируется что положение объектов в сцене относительно камеры будет вычислятья одинаково на этапе обучения и тестирования.

Когда нейронная сеть глубины обучена, комбинация конволюционных сетей (CNN) используется для для помощи  полотной сети DenseDepthNetwork, при этом необходимо учитывать вопрос минимизации ошибки фотометрической перепроеции. 

Стерео последовательности используется для совместной тренировки DenseDepthNetwork и создания сети связей поз (аналог графа карты в обычных SLAM методах)
// при самостоятельном обучении сигнал с самоконтролем
// При таком обучении создается фотометрическая согласованность по нескольким изображениям. Плотный
Карта глубины прогнозируется путем минимизации среднего  попиксельного значения
целевой функции по всему изображению. 
Функция потерь задает регуляризацию между изображениями и гладкость самого изображения, минимизируя разницу между соседними пикселами.


// ....

// 9



// == Оценка в реальном масштабе 

// Масштаб неопределенности неизбежной проблемой при использовании оценки позы 2d-2d локализации. Что же касается (13), так как Е является существенной матрицей, она умножает постоянная является еще возможным, так это т . Потому что не важно , какая константа она будет умножается, то нет никакого влияния на (15). В этом случае, в другом слове, треугольник РО 1 О 2 в фигах. 5 в масштаб , чтобы не материй каких множественный, наблюдение полученное то же самое . Это причина масштабной неопределенности в монокуляре системы VO. Что же касается традиционных VO методов, средней глубины монокулярной масштаба модуля вектора сдвига т , как правило , установлен в 1; Однако, кратная разница между полученным т и в реальном т есть еще неизвестно.

// Реальный масштаб оценки является значительная часть из монокуляр системы VO, качество оценки масштаба определяет успех монокуляр системы VO. Масштаб в монокулярном зрении тесно связан с глубиной каждого кадра изображения. Информация о глубине необходима при преобразовании пиксельной системы координат и системы координат камеры. Хотя система DL_Hybrid В.О. использует DNN , чтобы оценить плотную глубину карту из каждого кадра, плотная глубина карта не может быть с точностью до каждого пикселя каждого кадра. Для того , чтобы избежать преобразования координат неудачи из - за , чтобы в неправильные глубинах значения в некоторых пикселях, эта статья использует нормализованы координаты для

// Разница существенной матрицы E и фундаментальной
// матрица F заключается в том, что внутренняя матричная взаимосвязь камеры,
// то же, что и точка проекции p и координата нормализации
// точка x . По сути, эпиполярное ограничение характеризует
// копланарное отношение трех точек O 1 , O 2 , и P .
// Существенная матрица E используется для вычисления вращательной матрицы R
// и вектор трансляции t , и разложим сингулярное значение
// из Е , Е = УФ - T . Мы рассматриваем E как общую матрицу,
// у которого всего девять степеней свободы; однако в эпиполярной геометрии
// ограничение, если E умножить на ненулевую константу, (15) будет
// все еще остается в силе , поэтому E имеет восемь степеней свободы, а не девять. В других
// слово, необходимо как минимум восемь совпадающих пар ключевых точек
// для вычисления сингулярного разложения Е . В
// Система DL_Hybrid VO обеспечивает более восьми сопоставлений
// указывает на решение этой проблемы, поэтому матрица вращения R и транс-
// вектор t может быть решен. После вычисления сингулярных
// после разложения E по значению , результаты будут следующими:


// === Оценка в реальном масштабе времени


// Неопределенность масштаба - неизбежная проблема при использовании
// 2d – 2d оценка позы до локализации. Что касается (13), поскольку E является
// существенная матрица, она умножает на константу, все еще возможно,
// так это т . Потому что не важно, на какую константу он умножается,
// нет никакого влияния на (15). В этом случае, другими словами,
// треугольник PO 1 O 2 на рис. 5 масштабируется независимо от того,
// множественный, полученное наблюдение такое же. Это
// причина погрешности шкалы в монокулярной системе ВО. Что касается
// традиционные методы озвучивания, средняя монокулярная шкала глубины
// модуля вектора сдвига t обычно устанавливается равным 1;
// однако кратная разности полученных t
// а реальное значение t до сих пор неизвестно.
// Оценка реального масштаба является важной частью монокуляра.
// VO, качество оценки шкалы определяет
// успех монокулярной системы голосового управления. Шкала в монокуляре
// зрение тесно связано с глубиной каждого кадра изображения.
// Информация о глубине незаменима при преобразовании
// система координат пикселей и система координат камеры.
// Хотя система DL_Hybrid VO использует DNN для оценки
// плотная карта глубины каждого кадра, плотная карта глубины не может
// быть точным до каждого пикселя каждого кадра. Во избежание
// сбой преобразования координат из-за неправильного значения глубины
// некоторых пикселей в этой статье используются нормализованные координаты для
// рассчитать оценку позы. Использование нормализованных координат
// nates связана с проблемой восстановления масштаба. В этой статье плотный
// карта глубины, оцененная DNN, используется в качестве справочной, а
// реальный масштаб рассчитывается с использованием алгоритма RANSAC.


// Последовательность алгоритма выглядит следующим образом.
// Псевдокод алгоритма 1 оценки реального масштаба для
// DL_Hybrid VO Система
// Назначение : оценка в реальном масштабе времени
// Требуется : матрица преобразования T , плотная глубина.
// Вход : внутренняя матрица камеры K , ключевые точки из
// image_ t-1 и image_ t
// Продукт : Реальная шкала монокулярной системы DL_Hybrid VO.
// 1: Нормализация . kp_t-1_norm [:, 0] = (kp_t-1-K.cx) / K.fx
// kp_t-1_norm [:, 1] = (kp_t-1-K.cy) / K.fy
// kp_t_norm [:, 0] = (kp_t-K.cx) / K.fx
// kp_t_norm [:, 1] = (kp_t-K.cy) / K.fy
// 2: Триангуляция для получения трехмерных координат kp_t-1 и
// kp_t с помощью T .
// 3: Удалите выбросы триангуляции, чтобы получить карту depth_tri по
// преобразование разреженных трехмерных точек.
// 4: Отфильтруйте depth_tri и D, чтобы удалить точки,
// значение глубины ниже 0 по всем пикселям.
// 5: если сумма (допустимые точки маски глубины) > 80, то
// 6:
// solver = RANSAC_Regressor (min_samples = 3,
// max_trials = 100, stop_probability = 0.99, остаток_
// порог = 1)
// 7:
// s = solver.estimator (solver.filter ( depth_tri , D ))
// 8: еще
// 9:
// s = -1
// 10: вернуть s


// Поскольку алгоритмом определяется реальный масштаб, то нормированная
// координата может быть восстановлена ​​до реальной координаты. 

// === 3d – 2d локализация и оценка позы


// Пока монокулярная система DL_Hybrid VO работает, она
// не все кадры успешно оцениваются по 2–2-мерным оценкам позы.
// ционный метод. Если оценка позы не удалась, вывод
// вся система выключится. Чтобы сделать DL_Hybrid
// Система озвучивания более надежна, мы добавляем оценку позы 3d – 2d.
// выбор. В системе Hybrid VO есть два решения
// конструкции, как показано на рис. 2. Если есть только вращательное действие
// случается с камерой или реальной оценкой масштаба монокуляра
// не выполняется, в этих случаях оценка позы 2d – 2d не выполняется или
// реальный масштаб монокулярного движения восстановить невозможно, то 3d – 2d
// оценка позы необходима, чтобы заменить оценку позы 2d – 2d.
// Классический алгоритм PnP используется как альтернативный выбор.
// для оценки позы. Он решает оценку позы камеры
// проблема, когда некоторые точки трехмерного пространства и их проекционные
// даны позиции, соответствующие двумерным точкам. Что касается 
// алгоритм оценки геометрической позы 2d–2d, минимум восемь точек
// нужны. Однако, что касается алгоритма PnP, три точки 3d – 2d


// 10



== Результаты экспериментов

В этом разделе представлены конфигурации оборудования и программного обеспечения, использованные в наших экспериментах. Затем проводится обучение нейронных сетей DL . Наконец, проводятся четыре эксперимента, чтобы проверить производительность системы DL_Hybrid VO с разных точек зрения. Наборы данных, используемые во всех экспериментах, взяты из теста KITTI VO / SLAM .


=== Аппаратное и программное обеспечение 


Нейронные сети DL были реализованы на популярных
Каркас DL Torch. Все эксперименты проводились на
компьютер с процессором Intel E5-2630 v4 и NVIDIA
Графический процессор GeForce GTX 1080Ti. Система DL_Hybrid VO
был запрограммирован на Python с использованием связанных библиотек для
совместимость с привязками Python Torch.


=== Обучение работе с нейронными сетями DL 


В статье используются две нейронные сети DL:
DenseFlowNetwork и DenseDepthNetwork. DenseFlowNet-
работа используется для оценки плотной карты оптического потока между
последовательные кадры изображения. DenseDepthNetwork используется для предварительной
диктуют карту плотной глубины для каждого кадра для системы DL_Hybrid VO.
Что касается DenseFlowNetwork, то в тренировочном процессе речь идет
к [40]. SPNet и шестой уровень сопоставления и
субпиксели в тонком OFNet обучаются на 300к итераций. В
шестой уровень регуляризации в OFNet вместе с обученными
сеть на шаге 1 обучена на 300 тыс. итераций. От
5–2 согласования и добавление субпикселей в обученную
сеть 5 раз с 200k итерациями, кроме последнего раза
который обучен на 300 тыс. итераций. Темпы обучения для лев-
els 6-to-4 установлены на 1e-4, скорость обучения для уровней 3 и 2
установлены на 5e-5 и 4e-5 соответственно. И скорость обучения
уменьшаются в 2 раза, начиная с 120k, 160k, 200k,
и 240 тыс. итераций. Что касается DenseDepthNetwork, то обучение
процесс ссылается на [42]. Сети обучены на 20 эпох.
с использованием оптимизатора оценки адаптивного момента (Adam), с
размер пакета 12. Скорость обучения составляет 1e − 4 для 15 эпох,
и падает на 1e − 5 за последние 5 эпох, чтобы гарантировать, что
функция потерь сходилась к оптимальному решению.



=== Эксперименты для монокулярной системы DL_Hybrid VO 


Четыре эксперимента предназначены для оценки производительности.
предлагаемой в этой статье системы DL_Hybrid VO. В
Первый эксперимент посвящен методу оценки позы в
Система DL_Hybrid VO для подтверждения оптимального решения с
надежные и точные возможности. Второй эксперимент включает в себя
объединяет DL_Hybrid VO-систему с традиционной VO-системой
в условиях масштабного смещения камеры. Третий
Эксперимент сравнивает систему DL_Hybrid VO с классической
Система Cal VO, работающая с последовательностями изображений с помощью GT. В
Четвертый эксперимент качественно оценивает обобщение
способность системы DL_Hybrid VO работать с последовательностями изображений
без GT.
1) Метод оценки оптимальной позы: в этой статье
Система DL_Hybrid VO реализована на основе геометрической позы.
теория оценивания в сочетании с ДО, которая имеет большие преимущества.
этап обработки изображений. Что касается метода оценки позы, это
важно для разработки оптимального метода оценки позы, чтобы
реализовать надежную систему озвучивания для получения точной позы. Как показано
на рис. 2 мы используем 2d – 2d, 3d – 2d теорию локализации.
и оценка реального масштаба для составления гибридной оценки позы
метод, используемый в системе DL_Hybrid VO для оценки относительной
поступательная и вращательная информация. Эксперимент - это
предназначен для анализа рациональности оценки гибридной позы.
метод соединения, используемый в системе DL_Hybrid VO, и проверк

// 11



image::4-12-2021-15-00-48-PM.png[] 
Рис. 7. Тестирование производительность из различных позы оценки методов , используемых в     

DL_Hybrid VO система. (a) Последовательность 03. (b) Последовательность 05. (c) Последовательность 07. (г) Последовательность 10.


выяснить, улучшает ли это надежность и точность
Система голосового управления.
В этом эксперименте карта оптического потока и карта глубины
оценка остается неизменной, метод оценки позы использует
2d – 2d оценка позы (EM), 2d – 2d оценка позы с реальным
оценка масштаба (EMs) и оценка позы 3d – 2d (PnP),
соответственно. Предлагаемая система DL_Hybrid VO сравнивает
с помощью трех вышеуказанных методов, последовательности 03, 05, 07 и 10
выбраны из теста KITTI VO / SLAM в качестве данных тестирования
множеств, траектории, восстанавливаемые различными системами ВО, равны
показано на рис.7.
Как известно, дрейфы системы ВО точны.
с расстоянием, как показано на рис. 7, при старте.
короткое расстояние траектория движения транспортного средства, восстановленная системой VO
является принципиальным совпадением с GT, и ошибка дрейфа принимает вид
все больше и больше по сравнению с GT по мере увеличения длины пути.
В этой статье используются показатели оценки KITTI VO / SLAM.
для анализа производительности систем голосового управления зависит от
вычисление средних среднеквадратичных ошибок (RMSE)
перемещение и вращение на разной длине пути каждого изображения
последовательность, а изменение длины колеблется от 100 до 800 м.
в каждой последовательности. Очевидно, как показано на рис.7, траектория
восстановлено системой DL + Hybrid VO намного лучше, чем
другие системы озвучивания в этом эксперименте, это означает, что гибрид
метод оценки позы, используемый в системе DL_Hybrid VO, работает
Что ж. Результаты количественного анализа этого эксперимента:
приведенный на рис. 8, используется GT каждой последовательности изображений.
в качестве справки, ошибки перевода и ошибки вращения против
различные длины пути рассчитываются и приводятся ниже.
На рис. 8 красная линия на каждом подфигуре обозначает транс-
Ошибка вращения или вращения системы DL_Hybrid VO. Что касается
линии ошибок показаны на рис.8, оптимальная форма линий ошибок
как следует.
1) Если линия ошибки близка к прямой, производительность
система голосового управления лучше.
2) Если значение ошибки меньше, производительность
система VO лучше.


 
image::4-12-2021-15-00-57-PM.png[] 
 
image::4-12-2021-15-01-01-PM.png[] 
 

Рис. 8. Результаты количественного анализа оценки различных поз.
методы в системе DL_Hybrid VO. (а) Ошибка перевода и вращения в отношении
длина пути Последовательности 03. (b) Ошибка смещения и вращения в зависимости от пути
длина Последовательности 05. (c) Погрешность перемещения и вращения в зависимости от длины пути
последовательности 07. (d) Погрешность перемещения и вращения в зависимости от длины пути из последовательности 10.



Из рисунка 8 видно, что в каждой последовательности, независимо от ошибки поступательного движения или ошибки вращения, красные линии являются линией минимальной ошибки и близки к прямой. Подтверждено, что гибридный метод оценки позы является оптимальным методом оценки позы с надежностью и точностью. Как показано на рис. 8 , метод оценки выбирает восемь различных длин пути : 100 , 200 , ... и 800 м. 



ТАБЛИЦА II.

Средняя погрешность поступательного и вращательного дрейфа относительно
GT каждой последовательности в этом эксперименте приведены в таблице II.

// Средний поступательный дрейф RMSE (%) на длинах
// 100-800 м как т отн для краткости в таблице II. Среднее



// Рис. 10. Процент EM и PnP, работающих в системе DL_Hybrid VO.
// каждая последовательность.
// вращательный дрейф СКО (0/100 м) на длинах 100–800 м составляет
// как r rel для краткости в Таблице II.
// Между тем, пока система DL_Hybrid VO работает,
// в каждой последовательности мы анализируем, сколько кадров изображения
// оцениваются для получения информации по позе с помощью EM и того, как
// оценивается много кадров изображения, чтобы получить информацию о позе
// пользователя PnP. Путем расчетов дан рис. 10.
// Из рис.10 видно, что большая часть изображения
// кадры оцениваются с помощью EM для получения статуса позы,
// этот результат соответствует проектной цели предложенного
// DL_Hybrid VO система. Поскольку 2d – 2d метод оценки позы
// в сочетании с оценкой реального масштаба (EM) имеет более точную
// возможность локализации, чем метод оценки позы 3d – 2d,
// он надеется, что вся информация о позе кадров изображения
// оценивается EMs. Однако теория эпиполярной геометрии
// 2d – 2d метода оценки позы не может работать, когда есть
// Произошло ли действие только вращения или статическое действие на мобильном устройстве
// транспортное средство, в этом состоянии теория PnP 3d – 2d позы
// метод оценки используется в качестве альтернативного метода для предотвращения
// система VO от сбоя или сбоя. В результате гибрид
// метод оценки геометрической позы делает DL_Hybrid
// Система VO отличается высокой надежностью и точностью.
// 2) Тестирование на камерах крупномасштабного перемещения: про-
// поставленная система DL_Hybrid VO использует нейронную сеть DL
// DenseFlowNetwork для оценки карты оптического потока между
// кадры изображений и извлекать пары соответствия ключевых точек;
// тем временем другая нейросеть DL DenseDepthNetwork
// используются для извлечения карты глубины каждого кадра изображения для
// оценка реального масштаба монокулярной системы ВО. Что касается
// извлечение карты оптического потока с помощью DL, его преимущество
// что он может оценить точную карту оптического потока из
// камера крупномасштабного смещения движения, в котором условие
// общие сцены между последовательными кадрами изображения
// не так много, традиционная система голосового управления не может хорошо работать в
// это условие. Традиционный прямой метод полностью полагается на
// по оптимизации функции объекта за счет уменьшения градиента до расчетного
// поздно поза камеры. Это делает алгоритм оптимизации
// легко до минимума; в результате прямой метод работает только
// когда камера движется медленно. Это означает, что тради-
// Стандартная система голосового управления не может адаптироваться к высокоскоростному движению камер



// 13




Рис. 11. Результаты тестирования восстановленной траектории на разных частотах дискретизации.
для имитации движения камеры с большим перемещением. Левая колонка протестирована на
Последовательность 7, и правый столбец проверяется на Последовательности 10. Первая строка
показывает, что две системы озвучивания тестируются на исходных последовательностях, а другая
две строки показывают, что две системы VO испытываются на разных выборках.
интервалы. (а) Два метода ВО проверены на исходных последовательностях 7 и 10.
(b) Два метода ВО проверены на последовательностях 7 и 10 интервалов выборки
одно изображение. (c) Два метода ВО проверены на последовательностях 7 и 10 отбора проб.
интервал двух изображений.


Предлагаемая в этой статье система DL_Hybrid VO может адаптировать
к ситуации движения камеры большого смещения.
Предлагаемая система DL_Hybrid VO сравнивается с
традиционный монокуляр VO, контрастная система VO делает
использование прямого метода для извлечения оптического потока и использование GT
для расчета абсолютной монокулярной шкалы, затем гибридная поза
метод оценки используется для восстановления траектории, поэтому
контрастная система озвучивания называется OF_GT_Hybrid. Поскольку
монокуляр OF_GT_Hybrid VO система использует GT для оценки
реальный масштаб, без GT работать не может, поэтому набор данных
Последовательности для тестирования выбираются только из Последовательностей 00–10.
с GT в тесте KITTI VO / SLAM. Итак, выбираем
Последовательности 7 и 10 как наборы данных тестирования. Чтобы смоделировать
камера движения большого смещения, наборы данных тестирования
отбираются для эксперимента на трех частотах: одна
что исходные наборы данных используются без интервала дискретизации;
во-вторых, наборы данных тестирования представляют собой интервал выборки
одно изображение, а третье - выборка наборов данных тестирования
интервал двух изображений. Траектории восстановили результаты
Этот эксперимент показан на рис. 11.
Так как OF_GT_Hybrid VO система использует GT в качестве параметра
для расчета шкалы монокуляра, как следствие, он лучше
производительность по сравнению с предлагаемой системой DL_Hybrid VO


Рис. 12. Количественный анализ двух систем ВО, протестированных на разных
интервалы выборки. Изображения в левом столбце сверху вниз:
ошибка перемещения и вращения проверена на Последовательности 07; изображения справа
столбец сверху вниз: ошибка сдвига и вращения проверена на
Последовательность 10. (а) Ошибка трансляции двух систем голосового озвучивания, протестированных на разных
интервалы выборки Последовательностей 07 и 10. (b) Ошибка вращения двух
Системы голосового управления протестированы на разных интервалах выборки последовательностей 07 и 10.
на траектории восстановлена ​​возможность работы на исходном изображении
последовательности, как показано на рис. 11 (а). Однако OF_GT_Hybrid
Система VO хуже работает при тестировании наборов данных выборки
интервал в 1 изображение, как показано на рис. 11 (б), и это почти
не может работать с интервалом выборки двух изображений, как показано
на Рис. 11 (c). Предлагаемая система DL_Hybrid VO может
хорошо работать на всех наборах данных тестирования с разной выборкой
частоты, особенно в условиях интервала дискретизации
1 или 2 изображения, как показано на рис. 11 (b) и (c), DL_Hybrid
Система VO может точно восстанавливать траектории камеры,
в то время как система OF_GT_Hybrid VO имеет плохую производительность.
Он проверяет, что предложенная система DL_Hybrid VO может работать
в условиях движения камеры большого смещения с
надежность и точность. Результаты количественного анализа
две системы ВО показаны на рис. 12.
На рис. 12 три красные линии на каждом подфигурах обозначают
Система DL_Hybrid VO, работающая на трех разных выборках
частот, видно, что три красные линии почти
совпадают; три синие линии обозначают OF_GT_Hybrid
Система VO работает на трех разных частотах дискретизации.
Очевидно, синие линии ошибок имеют большую погрешность, чем
красные линии ошибок. Это означает, что система DL_Hybrid VO имеет
возможность более точной оценки позы, чем OF_GT_Hybrid
Система голосового управления. Три красные линии ошибок почти совпадают, значит
что интервал выборки набора данных тестирования мало влияет
в системе DL_Hybrid VO, поэтому он может работать при условии
движения камеры с большим смещением. Однако три синих
линии ошибок сильно изменились, это означает, что выборка
интервал имеет большое влияние на систему OF_GT_Hybrid VO;
в результате он почти не может работать при тестировании наборов данных с
интервал выборки двух изображений. Средний перевод
и ошибки вращения двух тестовых систем озвучивания на изображении
Приведены последовательности 7 и 10 с разными интервалами выборки.
в Таблице III


// 14




ТАБЛИЦА III
// VERAGE Е RRORS О Т В WO В.О. S YSTEMS Т Заинтересованный НА I MAGE
// S EQUENCES 07 и 10 Вт МТД D IFFERENT S AMPLING Я NTERVALS


Из приведенного выше анализа видно, что предлагаемые
Система DL_Hybrid VO способна точно оценить
позу камеры и восстановить траекторию камеры, даже когда
камера находится на крупномасштабном перемещении. В частности,
Система DL_Hybrid VO может точно восстановить камеру
траектория на последовательности изображений теста KITTI VO / SLAM
с интервалом дискретизации двух изображений, а традиционный
Система ВО с отводом оптического потока прямым методом может-
не работает на интервале выборки последовательности изображений из двух изображений.
Подтверждена эффективность предложенной системы ВОС DL_Hybrid.
в работе с крупномасштабным смещением камеры. Затем мы тестируем
система DL_Hybrid VO на последовательностях 07 и 10 изображения
с большим интервалом выборки, чтобы определить максимальный интервал
что наша система ВО может работать, восстановленные траектории
по сравнению с GT, и результаты представлены на рис.13.
Как видно из рис. 13 (а), траектории восстанавливаются
успешно, система DL_Hybrid VO все еще хорошо работает на
последовательность изображений с интервалом выборки из трех изображений, и
накопление ошибок дрейфа по-прежнему невелико в конце пути.
заводы. При интервале выборки четырех изображений
как показано на рис. 13 (b), траектории восстанавливаются безуспешно.
конечно, это означает, что система DL_Hybrid VO не может
работать хорошо. Можно сделать вывод, что предлагаемый DL_Hybrid
Система VO может точно восстановить траекторию камеры в
крупномасштабное смещение на тесте KITTI VO / SLAM
с максимальным интервалом дискретизации - три изображения. Потом,
вычислены средние скорости последовательностей изображений 07 и 10.
с использованием информации об абсолютных позах и отметках времени
предоставлены тестом KITTI VO / SLAM, результаты
показано в Таблице IV.
Согласно Таблице IV, средние скорости
Последовательности 07 и 10 с разной частотой дискретизации
даны. Поскольку уже известно, что DL_Hybrid
Система голосового управления может точно оценить статус позы и восстановить
траектория на эталонном изображении KITTI VO / SLAM
последовательность с интервалом выборки трех изображений и
ниже это означает, что предлагаемая система DL_Hybrid VO может
точно восстановить траекторию камеры из последовательности изображений
на максимальной скорости около 110 км / ч, а на


Рис. 13. Результаты восстановления траектории системой DL_Hyrbid VO, протестированной на
Последовательности изображений 07 и 10 с интервалом дискретизации 3, 4, и 5 изображений.
Левый столбец тестируется в последовательности 7, а правый столбец тестируется.
на Последовательности 10. (a) Система DL_Hybrid VO тестируется на Последовательностях 7 и
10 интервалов выборки трех изображений. (б) Тестируется система DL_Hybrid VO.
на Последовательностях 7 и 10 интервал выборки четырех изображений. (c) DL_Hybrid
Система VO тестируется на последовательностях 7 и 10 с интервалом выборки пяти изображений.


ТАБЛИЦА IV
// VERAGE S PEEDS (км / ч) О S EQUENCES 07 И 10 IN
// D IFFERENT S AMPLING F REQUENCIES
традиционная система VO может работать только на максимальном транспортном средстве
скорость около 55 км / ч, т.к. система OF_GT_Hybrid VO
может хорошо работать только с последовательностью изображений с максимальным
интервал выборки составляет 1 изображение, как показано в Таблице IV. Следовательно,
Предлагаемая система DL_Hybrid VO имеет очевидные преимущества
в условиях масштабного смещения камеры. Таблица V
показывает время работы системы DL_Hybrid VO, работающей на
Последовательности 07 и 10 с разной частотой дискретизации,
общее время работы системы DL_Hybrid VO и среднее время работы
время для оценки позы на каждом изображении все дано.
Из Таблицы V видно, что средний пробег
время на изображение в последовательности изображений с разной выборкой



// 15



АБЛИЦА V




интервал практически одинаковый. Это означает, что время работы
Система DL_Hybrid VO не имеет ничего общего со скоростью
последовательность изображений.



=== Количественный анализ Эксперимент с GT: 

Эксперимент предназначен для количественной оценки метрик DL_Hybrid VO системы, имеющей более высокую производительность в оценке позы и восстановленийи траектории чем классические системы визуальной одометриии. 
Проводится количественный анализ производительности на тестовых изображениях из набора KITTI VO / SLAM. 

Последовательности 00–10 с GT, метод системы DL_Hybrid VO сравнивается с тремя методами: 

* система VO на основе обучения, основанная на рекуррентных сверточных нейронных сетях (RCNN), является конец-к-конца В.О. 
* система, монокулярная версия системы ORBSLAM, 
* VISO2 - алгоритм визуальной одометрии с использованием характерных точек и геометрическими методами локализации.

Первая система это полностью обученная рекуррентная сеть RCNN обученная по размеченному набору данных. Система не использует никакие классические SLAM алгоритмы.
Система обучена на основе размеченных данных. Она оценивает информацию о поступательном и вращательном перемещении с шестью степенями свободы из необработанной
последдовательности изображений RGB. 
// Для обучения применяются аугментации данных в виде большой сдвиг в оценке вращательной информации. VISO2 с

DL_Hybrid VO сравнивается с классическим методом ORBSLAM.

// Монокулярная камера имеет гораздо худшие характеристики, чем
// предложенная система DL_Hybrid VO, поэтому используется стерео VISO2
// как контрастный объектный метод с именем VISO2_s. Чтобы
// оценить максимальную производительность системы DL_Hybrid VO,
// система ORBSLAM представлена ​​как контрастирующий объект,

// Контрастный объект обучения на основе VO является конец-to конец VO система основана на RCNNs подготовленных с помощью подконтрольного образом. Он использует контролируемое обучение на основе данных, не полагаясь на какие-либо модули в традиционных системах голосового управления. Он оценивает шесть-ДРХ поступательные и вращательные информация из сырой последовательности изображений RGB. Однако ВО, основанное на обучении, имеет большой сдвиг в оценке информации о вращении. 

VISO2 с монокуляр камерой имеет гораздо хуже производительность , чем в предлагаемой системе DL_Hybrid VO., поэтому стерео метод VISO2 используется в качестве объекта сравнения. Для того чтобы оценить максимальную производительность системы DL_Hybrid ВО, результаты также сравниваются с методом ORBSLAM.


image::4-12-2021-15-06-23-PM.png[] 

Рис 14.  Восстановленные траектории из в DL_Hybrid VO системы по сравнению с классическим VO систем для количественного анализа на последовательностях 05-10.


// которая представляет собой систему SLAM, а не просто систему голосового управления. Это кон-
// содержит обнаружение замыкания контура и BA, что делает
// Система ORBSLAM для более точной оценки трансформации
// матрица и траектория камеры. В этой статье последовательности 05–10
// выбраны из теста KITTI VO / SLAM в качестве данных тестирования
// наборы, результаты показаны на рис.14.
// Это общий недостаток традиционных монокуляров.
// Система VO, позволяющая точно оценить только реальный масштаб
// опираясь на GT. И информация о поза превращается из
// координата нормализации к реальной координате в зависимости от
// в реальном масштабе также восстанавливается траектория камеры в зависимости от
// в реальном масштабе, поэтому чем точнее масштаб, тем больше
// Точная траектория восстановилась. В этом эксперименте, что касается
// три контрастных объекта, система голосового управления на основе обучения может
// сквозная оценка относительной информации о преобразовании
// между последовательными изображениями и восстановление траектории камеры
// напрямую, поэтому не нужно оценивать реальный масштаб; VISO2_s
// использует стереокамеры для расчета реального масштаба
// восстановить траекторию; в то время как ORBSLAM_m - классический
// система с использованием монокулярной камеры, поэтому она должна зависеть от GT, чтобы
// рассчитать реальный масштаб. По этой причине этот эксперимент
// должен быть снят с использованием последовательности изображений с помощью GT.
// Предлагаемая система DL_Hybrid VO позволяет точно оценить
// mate монокуляр в реальном масштабе без использования GT. Там есть
// не предлагается выравнивание ориентира или другая информация о измерениях
// в систему DL_Hybrid VO для получения поз. На рис.14,
// траектории, восстановленные каждой системой на разных изображениях
// нарисованы последовательности, а также нарисованы траектории GT



// 16
image::4-12-2021-16-06-27-PM.png[] 

image::4-12-2021-16-06-36-PM.png[] 

ис. 15. Средние ошибки перемещения и вращения на разных длинах пути.
(а) Ошибка перевода в зависимости от длины пути. (b) Ошибка вращения в зависимости от длины пути.


// для справки. Видно, что траектория восстановилась.
// по системе DL_Hybrid ВО очень близко к траекториям
// GT, что указывает на то, что производительность DL_Hybrid
// Система VO лучше, чем другие системы VO. Среднее
// ошибки каждой системы ВО, проверенной на перевод и вращение
// против разной длины пути показаны на рис.15.


Как показано на рис. 15, DL_Hybrid VO имеет лучшую
производительность по сравнению с другими системами голосового управления при другой длине пути
от 100 до 800 м по переносу и повороту. 
Среди всех рассмотренных систем VO на рис. 15, хотя ORBSLAM имеет хорошую способность к отображению, он не очень хорошо подходит для оценки позы с помощью монокулярной камеры, так как от GT по-прежнему зависит получение реальный масштаб. 

Что касается системы на основе обучения, возможности оценка информации о вращении работает не очень хорошо. 

В Предлагаемая система DL_Hybrid VO использует сети DL для получения карта оптического потока и карта глубины, и он может оценить реальный масштаб только с использованием последовательности монокулярных изображений, в результате система DL_Hybrid VO имеет лучшую возможность получить более точная поступательная и вращательная информация. Таблица VI суммирует средние ошибки каждой системы ВО, протестированной на каждом последовательность изображений. Согласно приведенному выше анализу подтверждается, что Предлагаемая система DL_Hybrid VO обеспечивает более точную позу способность оценивать, чем другие системы ВО. Время работы 


// M EAN E RRORS OF E ACH VO S YSTEMS T ESTED
// ON E ACH T ESTING S EQUENCES
ТАБЛИЦА VI
image::4-12-2021-16-05-37-PM.png[] 

image::4-12-2021-16-05-09-PM.png[] 
Рис. 16. Качественный эксперимент. Траектории, восстановленные DL_Hybrid
Тестирование системы голосового управления на последовательностях 11, 15, 17 и 18 без GT.
(a) Последовательность 11. (b) Последовательность 15. (c) Последовательность 17. (d) Последовательность 18.
Система DL_Hybrid VO и сравниваемые подходы записываются
в этом эксперименте результаты приведены в Таблице VII. Общая
количество изображений каждой последовательности и среднее время выполнения на
изображения также даны. Общее время работы означает все время
что система VO или обученная система VO на основе DL тратит
при оценке информации позы из последовательности изображений один-
покадровое и завершающее восстановление траектории.
Согласно Таблице VII видно, что общее время работы
из предложенной системы ВОС DL_Hybrid является самой длинной, потому что
в DL_Hybrid работают две сложные DL-сети
Система голосового управления. Что касается системы голосового управления на основе обучения, она использует DL
сеть для сквозной оценки позы; нет необходимости
для выполнения операции выделения или сопоставления признаков изображения,
поэтому требуется меньше времени на выполнение. Затем рассчитываем средний пробег
время на изображение для каждой системы ВО с использованием данных в Таблице VII,
и результаты показаны в Таблице VIII.
Согласно Таблице VIII делается вывод, что предложенные
DL_Hyrbid VO система с двумя сложными сетями DL
тратит наибольшее время на выполнение каждого изображения. Предлагаемы

// 17


ТАБЛИЦА VII



Система DL_Hybrid VO имеет более точную оценку позы
и восстановление траектории, чем другие подходы, а также в
состояние масштабного смещения камеры и статики камеры
действие и вращение камеры только действие, и это также может работать
без использования ГТ для оценки монокулярной шкалы; тем не мение,
время работы системы DL_Hybrid VO больше, чем у других
Системы голосового управления.
4) Тестирование системы DL_Hybrid VO на последовательностях без GT:
Этот эксперимент предназначен для проверки эффективности предложенных
Система DL_Hybrid VO, работающая с последовательностями изображений
без GT. Последовательности изображений 11, 15, 17 и 18 от KITTI


ТАБЛИЦА VIII
image::4-12-2021-16-07-14-PM.png[] 

Тесты VO / SLAM выбраны в качестве наборов данных тестирования в
этот эксперимент, поскольку эти последовательности не предлагают GT,
количественный анализ этих результатов недоступен.
Поскольку в этих последовательностях нет GT,
ORBSLAM с использованием монокулярной камеры не может получить реальный масштаб
и восстановить траекторию, поэтому в этом эксперименте мы используем стерео
ОРБСЛАМ как контрастный объект. Стерео ORBSLAM может
не только оценивать реальный масштаб, но и работать с замыканием контура
и BA, таким образом, мы предполагаем, что траектории порождают
По стерео ORBSLAM больше всего похожи на GT. Рис.16 показывает
траектории, восстановленные системой четырех ВО на разных
наборы данных тестирования.
Как показано на рисунке 16, система ВО DL_Hybrid как
Монокулярная система голосового управления имеет хорошие характеристики и в целом
возможность настройки, а также стереосистема SLAM ORBSLAM.
Делается вывод, что в этом эксперименте реальный масштаб точно
оценивается системой DL_Hybrid VO, а траектория камеры
восстанавливается успешно.


== ЗАКЛЮЧЕНИЕ


В этой статье предлагается монокулярная система озвучивания под названием
DL_Hybrid, который в полной мере использует преимущества DL
по обработке изображений и сочетается с геометрическим
методы локализации позы, основанные на теории. Предлагаемый
Система DL_Hybrid VO может оценить статус позы с 6 степенями свободы от
последовательность изображений покадрово, и восстановить
наконец, траектория камеры. По сравнению с традиционными
Система ВО, предлагаемая система ВО DL_Hybrid имеет
лучшая надежность и точность даже в экстремальных перемещениях
состояние, такое как действие только для вращения камеры или статическое действие;
а в условиях масштабного смещения камеры,
предлагаемая система DL_Hybrid VO может точно восстанавливать
траектория камеры из последовательности изображений с выборкой
интервал в три изображения и ниже, в то время как традиционный VO
система может только восстановить траекторию из последовательности изображений с
максимальный интервал выборки - одно изображение. Монокуляр
шкала также точно оценивается вне зависимости от GT,
поэтому система DL_Hybrid VO может работать с изображением
последовательность без GT, это значительная возможность для
монокулярная система VO для восстановления траектории камеры, в то время как
Традиционная система ВО не может оценить реальные масштабы без GT. Все
Эксперименты в этой статье протестированы на KITTI VO / SLAM
бенчмарк, и делается вывод, что предложенный DL_Hybrid
Система VO имеет лучшую производительность, чем другие подходы.

